<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Transfer</title>
    <link rel="stylesheet" th:href="@{/css/transfer.css}" />
</head>
<body>
<!-- Barre de navigation -->
<nav>
    <h2>Pay My Buddy</h2>
    <ul>
        <li><a th:href="@{/home}">Home</a></li>
        <li><a th:href="@{/transfer}">Transfer</a></li>
        <li><a th:href="@{/profile}">Profile</a></li>
        <li><a th:href="@{/contact}">Contact</a></li>
        <li><a th:href="@{/logout}">Log off</a></li>
    </ul>
</nav>

<!-- Barre d'arborescence -->
<div class="breadcrumb">
    <a th:href="@{/home}">Home</a>
    <p>/</p>
    <a th:href="@{/transfer}">Transfer</a>
</div>

<!-- Section Envoyer de l'argent -->
<div class="send-money">
    <h2>Send Money</h2>
    <form th:action="@{/pay}" method="post">
        <div class="form-group">
            <label for="recipient">Recipient:</label>
            <select id="recipient" name="recipient">
                <option th:each="connection, connStat : ${connections}"
                        th:value="${connStat.index}"
                        th:text="${connection}">
                </option>
            </select>
        </div>
        <div class="form-group">
            <label for="amount">Amount:</label>
            <input type="number" id="amount" name="amount" value="0" min="0">
        </div>
        <button type="submit">Pay</button>
    </form>
</div>

<!-- Section Mes Transactions -->
<div class="my-transactions">
    <h2>My Transactions</h2>
    <table>
        <tr th:each="transaction : ${transactionsPage.content}">
            <td th:text="${transaction.sender.email}"></td>
            <td th:text="${transaction.recipient.email}"></td>
            <td th:text="${transaction.amount}"></td>
            <td th:text="${transaction.date}"></td>
            <td th:text="${transaction.description}"></td>
        </tr>
    </table>

    <div>
        <a th:if="${transactionsPage.hasPrevious()}" th:href="@{/transfer(page=${transactionsPage.number - 1}, size=${transactionsPage.size})}">Previous</a>
        <span th:text="${transactionsPage.number + 1} + '/' + ${transactionsPage.totalPages}"></span>
        <a th:if="${transactionsPage.hasNext()}" th:href="@{/transfer(page=${transactionsPage.number + 1}, size=${transactionsPage.size})}">Next</a>
    </div>
</div>
</body>
</html>
